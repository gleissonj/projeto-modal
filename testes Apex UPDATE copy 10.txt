it('deve exibir erro se nameFunc for "OPP", houver 5 arquivos e os nomes forem inválidos', async () => {
  // Arrange
  component.nameFunc = 'OPP';
  component.selectedFiles = Array.from({ length: 5 }, (_, i) =>
    new File(['conteudo'], `arquivo${i + 1}.txt`)
  );

  component.validaNameArquivo = jest.fn().mockReturnValue(false);
  component.valueNotFind = 'arquivo_esperado.pdf';
  const showMessageSpy = jest.spyOn(component, 'showMessage');

  // Act
  await component.uploadArquivoAWS();

  // Assert
  expect(component.validaNameArquivo).toHaveBeenCalled();
  expect(showMessageSpy).toHaveBeenCalledWith(
    'O nome do arquivo enviado não corresponde ao nome esperado: arquivo_esperado.pdf',
    'error'
  );
});
