üß≠ Vis√£o Geral do Fluxo da API de Integra√ß√£o com o CRM (Salesforce)
A API foi constru√≠da a partir de uma biblioteca Java e atua como um consumidor de mensagens de uma fila SQS. Sua principal responsabilidade √© baixar arquivos a partir de URLs pr√©-assinadas e envi√°-los ao Salesforce respeitando o limite de tamanho suportado.

üîÑ Fluxo Detalhado
1. Recebimento da Requisi√ß√£o via Fila SQS
A API escuta uma fila SQS continuamente.

Cada mensagem recebida √© um JSON contendo duas URLs pr√©-assinadas:

Uma para o arquivo de metadados

Outra para o arquivo de dados

2. Download dos Arquivos
A API realiza o download dos arquivos diretamente das URLs pr√©-assinadas.

Ambos os arquivos (metadados e dados) s√£o baixados e processados localmente.

3. Divis√£o dos Arquivos
Ap√≥s o download, os arquivos s√£o quebrados em partes de at√© 32 MB ‚Äî limite m√°ximo suportado pela plataforma CRM (Salesforce).

Os fragmentos s√£o armazenados em uma pasta tempor√°ria local no ambiente da API.

4. Envio para o Salesforce
A API inicia o processo de envio das partes para o CRM via requisi√ß√µes HTTP.

Cada parte √© enviada com controle de indexa√ß√£o (datepart ou similar), para garantir que o CRM consiga reconstituir os dados corretamente na outra ponta.

‚öôÔ∏è Comportamentos T√©cnicos Relevantes
Fila de entrada: AWS SQS contendo JSONs com URLs assinadas.

Formato de entrada: URLs apontando para arquivos de metadados e dados.

Tamanho m√°ximo por parte: 32 MB.

Armazenamento tempor√°rio: Fragmentos salvos localmente antes do envio.

Integra√ß√£o final: Requisi√ß√µes HTTP para endpoints do Salesforce com controle de partes (datepart).

‚úÖ Resumo Final
A API age como um processador ass√≠ncrono, escutando mensagens na SQS e atuando como integrador entre o armazenamento tempor√°rio de arquivos e a plataforma CRM. Todo o processo √© automatizado, com controle de tamanho, fragmenta√ß√£o e envio seguro.

