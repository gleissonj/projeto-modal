@IsTest
public class testeApexTest {
 @IsTest
    static void testBuscarContatos() {
        // ðŸ”¹ Criando um grupo econÃ´mico fictÃ­cio (Account)
        Account grupo = new Account(
            Name = 'Grupo Teste'
        );
        insert grupo;

        // ðŸ”¹ Criando um contato fictÃ­cio
        Contact contato = new Contact(
            FirstName = 'Maria',
            LastName = 'Teste'
        );
        insert contato;

        // ðŸ”¹ Criando uma AccountContactRelation fictÃ­cia
        AccountContactRelation__c acr = new AccountContactRelation__c(
            AccountId__c = grupo.Id,
            Email__c = 'maria.teste@example.com'
        );
        insert acr;

        // ðŸ”¹ Montando o Request de entrada
        List<testeApex.Request> requests = new List<testeApex.Request>();
        testeApex.Request req = new testeApex.Request();
        req.groupName = grupo.Name;
        req.groupId = grupo.Id;
        requests.add(req);

        // ðŸ”¹ Executando o mÃ©todo
        Test.startTest();
        List<testeApex.Response> responses = testeApex.buscarContatos(requests);
        Test.stopTest();

        // ðŸ”¹ Assertivas
        System.assertNotEquals(null, responses, 'A lista de respostas nÃ£o pode ser nula');
        System.assertEquals(1, responses.size(), 'Deve retornar exatamente uma resposta');

        testeApex.Response res = responses[0];
        System.assertNotEquals(null, res.Prompt, 'O Prompt nÃ£o pode ser nulo');
        System.debug('Prompt gerado: ' + res.Prompt);
        System.assert(res.Prompt.contains('Grupo Teste'), 'O Prompt deve conter o nome do grupo');
    }
}