import { ComponentFixture, TestBed } from '@angular/core/testing';
import { YourComponent } from './your.component'; // Substitua pelo nome do seu componente

describe('YourComponent', () => {
  let component: YourComponent;
  let fixture: ComponentFixture<YourComponent>;

  beforeEach(() => {
    TestBed.configureTestingModule({
      declarations: [YourComponent]
    });

    fixture = TestBed.createComponent(YourComponent);
    component = fixture.componentInstance;
  });

  it('deve ocultar o modal quando ele estiver presente no DOM', () => {
    const modalDiv = document.createElement('div');
    modalDiv.id = 'myModal';
    modalDiv.style.display = 'block'; // Define o estilo inicial como 'block'
    document.body.appendChild(modalDiv); // Adiciona o modal ao DOM

    component.closeModel();

    expect(modalDiv.style.display).toBe('none');

    document.body.removeChild(modalDiv); // Remove o modal do DOM após o teste
  });

  it('não deve lançar erro se o modal não estiver presente no DOM', () => {
    const consoleSpy = jest.spyOn(console, 'error').mockImplementation(); // Previne erros no console

    expect(() => component.closeModel()).not.toThrow();

    consoleSpy.mockRestore(); // Restaura o comportamento original do console
  });
});
