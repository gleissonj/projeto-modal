var handler = new HttpClientHandler()
{
    Proxy = new WebProxy("http://proxyserver:port")
    {
        Credentials = new NetworkCredential("username", "password")
    },
    UseProxy = true,
};

var client = new HttpClient(handler);
var response = await client.GetAsync("http://example.com");
