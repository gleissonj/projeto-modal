ğŸ’¡ Por que a EstratÃ©gia Modular Ã© a Melhor para Este Caso

Trabalha com um Ãºnico domÃ­nio (Grupo): Todas as informaÃ§Ãµes solicitadas estÃ£o relacionadas ao mesmo objeto principal, tornando viÃ¡vel e natural unificar tudo em um Ãºnico fluxo.

Evita explosÃ£o de tÃ³picos e aÃ§Ãµes: Agrupa vÃ¡rias intenÃ§Ãµes sobre grupo em um sÃ³ ponto. Facilita manutenÃ§Ã£o, leitura e reuso.

Facilita expansÃ£o e evoluÃ§Ã£o: Para adicionar uma nova informaÃ§Ã£o (ex: endereÃ§o do grupo), basta incluir um novo tipo na lÃ³gica condicional, sem criar novo tÃ³pico ou action.

Reaproveita lÃ³gica e cÃ³digo: A lÃ³gica de consulta (Apex ou Flow) fica toda centralizada, facilitando manutenÃ§Ã£o, testes e controle de versÃµes.

Oferece uma experiÃªncia fluida ao usuÃ¡rio: O bot pode perguntar â€œO que vocÃª deseja consultar sobre o grupo XPTO?â€ e guiar o usuÃ¡rio com opÃ§Ãµes, sem travar em intenÃ§Ãµes isoladas.

Garante consistÃªncia nas respostas: Com um prompt template condicional, a resposta segue o mesmo formato sempre, independente do tipo solicitado.

EstÃ¡ alinhada com boas prÃ¡ticas de coesÃ£o semÃ¢ntica: NÃ£o mistura temas diferentes. EstÃ¡ tudo dentro do mesmo domÃ­nio lÃ³gico, respeitando o escopo.


OBJETIVO:

Criar um agente centralizado no Agentforce que responda diferentes perguntas sobre grupos, utilizando uma arquitetura modular com

Com uma estratÃ©gia modular e inteligente, vocÃª pode:

- Reduzir drasticamente o nÃºmero de TÃ³picos
- Reutilizar Actions
- Centralizar respostas com prompts flexÃ­veis

ğŸ¯ EstratÃ©gia para evitar explosÃ£o de tÃ³picos e aÃ§Ãµes

Muitas implementaÃ§Ãµes acabam criando dezenas de tÃ³picos e actions para cada pergunta especÃ­fica. Isso se torna insustentÃ¡vel.

âœ… 1. Agrupe vÃ¡rias intenÃ§Ãµes num Ãºnico TÃ³pico genÃ©rico com ramificaÃ§Ãµes

Exemplo:
TÃ³pico: consultar_dados_do_grupo
Nesse mesmo tÃ³pico, vocÃª trata:

- Dados cadastrais
- Subgrupos
- ResponsÃ¡veis
- Contatos

Como?
VocÃª pergunta algo como:

| â€œO que vocÃª deseja consultar sobre o grupo {{grupo_nome}}?â€

E oferece opÃ§Ãµes como:

ğŸ“„ Dados cadastrais

ğŸ‘¥ ResponsÃ¡veis

ğŸ“ Contatos

ğŸ§© Subgrupos

â¡ï¸ E entÃ£o dispara a Action certa com base na escolha.

âœ… 2. Use uma Ãºnica Action â€œgeralâ€ com ramificaÃ§Ãµes internas (via parÃ¢metro)
Crie uma Action como:

Apex:
buscarInformacaoGrupo(grupo_nome, tipo_info)

E internamente no Apex ou Flow:

Se tipo_info = "dados" â†’ retorna dados cadastrais
Se tipo_info = "contatos" â†’ retorna contatos
Se tipo_info = "subgrupos" â†’ retorna subgrupos
Se tipo_info = "responsaveis" â†’ retorna responsÃ¡veis

â¡ï¸ Uma Action sÃ³ cobre 4 casos.

âœ… 3. Use Prompt Templates com condicionais

Em vez de criar um prompt por caso, vocÃª pode criar um template do tipo:

PLAINTEXT
{{#if dados}}
O grupo {{grupo_nome}} tem os seguintes dados:
CNPJ: {{cnpj}}, Tipo: {{tipo}}, Status: {{status}}
{{/if}}

{{#if contatos}}
Contatos principais do grupo {{grupo_nome}}:
{{contatos}}
{{/if}}

{{#if subgrupos}}
Subgrupos:
{{subgrupos}}
{{/if}}


âœ… EstratÃ©gia complementar recomendada:

Usar 1 tÃ³pico por domÃ­nio (ex: consultar_informacao_grupo, consultar_informacao_cliente) â€” cada um com sua prÃ³pria Action e lÃ³gica condicional.

Dessa forma, respeita-se o princÃ­pio de coesÃ£o e se mantÃ©m a escalabilidade.

âœ… BenefÃ­cios da Arquitetura

EscalÃ¡vel: Um tÃ³pico cobre mÃºltiplas intenÃ§Ãµes correlatas.

ReaproveitÃ¡vel: A mesma Action pode ser expandida para novas necessidades.

ManutenÃ§Ã£o facilitada: AtualizaÃ§Ãµes pontuais sem risco de impacto lateral.

ReduÃ§Ã£o de esforÃ§o: Menos tÃ³picos, menos repetiÃ§Ãµes.

ExperiÃªncia fluida para o usuÃ¡rio: Fluxo guiado ou aberto.

PadronizaÃ§Ã£o de respostas: Um sÃ³ template cobre mÃºltiplos cenÃ¡rios.

Baixa fricÃ§Ã£o para evoluÃ§Ãµes: FÃ¡cil adicionar novos tipos de informaÃ§Ã£o.


ğŸ¯ Resultado Final com Essa Abordagem

Sem estratÃ©gia modular

Com estratÃ©gia modular

Muitos tÃ³picos e prompts

1 tÃ³pico com ramificaÃ§Ãµes internas

VÃ¡rias actions isoladas

1 action com lÃ³gica condicional

DifÃ­cil de testar e manter

FÃ¡cil de atualizar e escalar

RepetiÃ§Ã£o de lÃ³gica e linguagem

Reaproveitamento total

âœ… RecomendaÃ§Ã£o Final

Utilize essa arquitetura quando o domÃ­nio:

Possui vÃ¡rios atributos de consulta relacionados a um mesmo identificador (como grupo, cliente, contrato).

Precisa crescer com seguranÃ§a, sem complexidade adicional.

Deve oferecer uma experiÃªncia fluida e clara para o usuÃ¡rio.

Essa abordagem combina produtividade com controle tÃ©cnico.



âœ… RecomendaÃ§Ã£o final para vocÃª:

Se seu agente vai lidar com mÃºltiplas perguntas sobre um mesmo grupo,
â†’ Crie 1 tÃ³pico â€œConsulta de Grupoâ€ com ramificaÃ§Ãµes internas.

Isso te dÃ¡:

- Uma experiÃªncia fluida para o usuÃ¡rio
- Um back-end de fÃ¡cil manutenÃ§Ã£o
- Baixo risco de recomeÃ§ar depois

ConclusÃ£o direta para vocÃª levar Ã  gerÃªncia
â€œEstamos usando um Ãºnico tÃ³pico porque ele trata apenas de consultas sobre o objeto Grupo. Ã‰ uma forma de reduzir complexidade, evitar redundÃ¢ncia e escalar com seguranÃ§a. Caso esse mesmo padrÃ£o seja necessÃ¡rio para outros objetos (Cliente, Contrato, Produto), criaremos outros tÃ³picos com a mesma arquitetura, respeitando a separaÃ§Ã£o de domÃ­nios.â€