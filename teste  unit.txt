<flow name="update-datetime-field">
    <http:listener config-ref="HTTP_Listener_config" path="/updateDateTime" method="POST"/>
    <set-payload>
        <dw:transform-message doc:name="Transform DateTime">
            <dw:set-payload><![CDATA[
            %dw 2.0
            output application/java
            var inputDate = payload.dat_rfrc
            ---
            {
                "FS1_DataValidacao__c": 
                    (inputDate as DateTime {format: "yyyy-MM-dd HH:mm:ss.SSSSSS"} 
                    >> (("P0D" as Period) as TimeZone))
                    as DateTime {format: "yyyy-MM-dd'T'HH:mm:ss.SSS'Z'"}
            }
            ]]></dw:set-payload>
        </dw:transform-message>
    </set-payload>
    <sfdc:update config-ref="Salesforce_Config" sObject="MyObject__c" doc:name="Update Salesforce Record"/>
    <logger level="INFO" doc:name="Log" message="Updated Salesforce record #[payload.Id] with FS1_DataValidacao__c #[payload.FS1_DataValidacao__c]"/>
</flow>
