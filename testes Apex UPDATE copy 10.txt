import { of } from 'rxjs';

it('deve chamar startStepFunction e sair do método se não houver arquivos selecionados', () => {
  // Mock do retorno da stepFunction
  const startStepFnMock = jest.fn().mockReturnValue(of('ok'));

  // Simula o service
  component.multipartUploadService = {
    startStepFunction: startStepFnMock,
    sendFilesToMultipartUpload: jest.fn(),
  } as any;

  // Garante que selectedFiles está vazio
  component.selectedFiles = [];

  // Executa o método
  component.updateFileMultiple();

  // Verifica se o método certo foi chamado
  expect(startStepFnMock).toHaveBeenCalledWith(environment.stepFunctionOpp);
  expect(component.multipartUploadService.sendFilesToMultipartUpload).not.toHaveBeenCalled();
});
