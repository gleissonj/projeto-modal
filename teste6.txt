import { ComponentFixture, TestBed } from '@angular/core/testing';
import { YourComponent } from './your.component'; // Substitua pelo nome do seu componente

describe('YourComponent', () => {
  let component: YourComponent;
  let fixture: ComponentFixture<YourComponent>;

  beforeEach(() => {
    TestBed.configureTestingModule({
      declarations: [YourComponent]
    });

    fixture = TestBed.createComponent(YourComponent);
    component = fixture.componentInstance;
  });

  it('deve alterar typeBody e chamar CloseModal se a senha e typePage forem v치lidos', () => {
    component.senha = 'dados123';
    component.typePage = '1';
    const closeModalSpy = jest.spyOn(component, 'CloseModal');

    component.validaSenha();

    expect(component.typeBody).toBe(1);
    expect(closeModalSpy).toHaveBeenCalled();
    expect(component.senha).toBeNull();
  });

  it('deve exibir um alerta de senha inv치lida se a senha ou typePage forem inv치lidos', () => {
    component.senha = 'wrongPassword';
    component.typePage = '1';
    const alertSpy = jest.spyOn(window, 'alert').mockImplementation(() => {});

    component.validaSenha();

    expect(alertSpy).toHaveBeenCalledWith('Senha inv치lida');
  });
});
